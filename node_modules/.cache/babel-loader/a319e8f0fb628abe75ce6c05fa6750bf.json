{"ast":null,"code":"var _jsxFileName = \"/home/tlancia16/libkiosk/src/pages/APUSupport.js\";\nimport React from 'react';\nimport { Button, Dialog, DialogTitle, DialogContent, DialogActions } from 'react-mdl';\nimport { Link } from 'react-router-dom';\nimport Iframe from 'react-iframe';\nimport IdleTimer from 'react-idle-timer';\nimport { reset } from 'ansi-colors';\nconst APUSupportLink = \"https://static.zdassets.com/web_widget/latest/liveChat.html?v=10#key=apu.zendesk.com&settings=JTdCJTIyd2ViV2lkZ2V0JTIyJTNBJTdCJTIyY2hhdCUyMiUzQSU3QiUyMnRpdGxlJTIyJTNBbnVsbCUyQyUyMmRlcGFydG1lbnRzJTIyJTNBJTdCJTdEJTJDJTIycHJlY2hhdEZvcm0lMjIlM0ElN0IlMjJkZXBhcnRtZW50TGFiZWwlMjIlM0FudWxsJTJDJTIyZ3JlZXRpbmclMjIlM0FudWxsJTdEJTJDJTIyb2ZmbGluZUZvcm0lMjIlM0ElN0IlMjJncmVldGluZyUyMiUzQW51bGwlN0QlMkMlMjJjb25jaWVyZ2UlMjIlM0ElN0IlMjJhdmF0YXJQYXRoJTIyJTNBbnVsbCUyQyUyMm5hbWUlMjIlM0FudWxsJTJDJTIydGl0bGUlMjIlM0FudWxsJTdEJTdEJTJDJTIyY29sb3IlMjIlM0ElN0IlMjJhcnRpY2xlTGlua3MlMjIlM0ElMjIlMjIlMkMlMjJidXR0b24lMjIlM0ElMjIlMjIlMkMlMjJoZWFkZXIlMjIlM0ElMjIlMjIlMkMlMjJsYXVuY2hlciUyMiUzQSUyMiUyMiUyQyUyMmxhdW5jaGVyVGV4dCUyMiUzQSUyMiUyMiUyQyUyMnJlc3VsdExpc3RzJTIyJTNBJTIyJTIyJTJDJTIydGhlbWUlMjIlM0FudWxsJTdEJTdEJTdE&&locale=en-US&title=Web%20Widget%20Live%20Chat\";\nexport class APUSupport extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getCurrentTime = () => {\n      this.setState({\n        currentTime: this.idleTimer.getRemainingTime()\n      });\n      return this.state.currentTime;\n    };\n\n    this.state = {\n      timeIdle: 5,\n      currentTime: 0,\n      showModal: false,\n      userLoggedIn: false,\n      isTimedOut: false // openDialog: false,\n\n    };\n    this.idleTimer = null;\n    this.onAction = this._onAction.bind(this);\n    this.onActive = this._onActive.bind(this);\n    this.onIdle = this._onIdle.bind(this);\n    this.handleOpenDialog = this.handleOpenDialog.bind(this);\n    this.handleCloseDialog = this.handleCloseDialog.bind(this);\n  }\n\n  componentDidMount() {}\n\n  handleOpenDialog() {\n    this.setState({\n      openDialog: true\n    });\n  }\n\n  handleCloseDialog() {\n    this.setState({\n      openDialog: false\n    });\n    this.idleTimer.reset();\n  }\n\n  handleClose() {\n    this.setState({\n      showModal: false\n    });\n  }\n\n  handleLogout() {\n    this.setState({\n      showModal: false\n    });\n    this.props.history.push('/');\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(IdleTimer, {\n      ref: ref => {\n        this.idleTimer = ref;\n      },\n      element: document,\n      onActive: this.onActive,\n      onIdle: this.handleOpenDialog,\n      onAction: this.onAction,\n      timeout: 1000 * 10 * this.state.timeIdle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"APU Support Chat Page\"), React.createElement(Iframe, {\n      url: APUSupportLink,\n      width: \"600px\",\n      height: \"750px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Button, {\n      raised: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Home\")), React.createElement(Dialog, {\n      open: this.state.openDialog,\n      onCancel: this.handleCloseDialog,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(DialogTitle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"This Page Will Automaticaly Reset\"), React.createElement(DialogContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"This page will restart in \", this.getCurrentTime)), React.createElement(DialogActions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"button\",\n      onClick: this.handleCloseDialog,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Continue?\"))));\n  }\n\n  _onAction(e) {\n    console.log('user did something', e);\n    this.setState({\n      isTimedOut: false\n    });\n  }\n\n  _onActive(e) {\n    console.log('user is active', e);\n    this.setState({\n      isTimedOut: false\n    });\n  }\n\n  _onIdle(e) {\n    console.log('user is idle', e);\n    const isTimedOut = this.state.isTimedOut;\n\n    if (isTimedOut) {\n      this.props.history.push('/home');\n    } else {\n      this.setState({\n        showModal: true\n      });\n      this.setState({\n        timeIdle: 1\n      });\n      this.idleTimer.reset();\n      this.setState({\n        isTimedOut: true\n      });\n    }\n  }\n\n}\nexport default APUSupport;","map":{"version":3,"sources":["/home/tlancia16/libkiosk/src/pages/APUSupport.js"],"names":["React","Button","Dialog","DialogTitle","DialogContent","DialogActions","Link","Iframe","IdleTimer","reset","APUSupportLink","APUSupport","Component","constructor","props","getCurrentTime","setState","currentTime","idleTimer","getRemainingTime","state","timeIdle","showModal","userLoggedIn","isTimedOut","onAction","_onAction","bind","onActive","_onActive","onIdle","_onIdle","handleOpenDialog","handleCloseDialog","componentDidMount","openDialog","handleClose","handleLogout","history","push","render","ref","document","e","console","log"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Button, Dialog, DialogTitle, DialogContent, DialogActions } from 'react-mdl';\nimport { Link } from 'react-router-dom';\nimport Iframe from 'react-iframe';\nimport IdleTimer from 'react-idle-timer';\nimport { reset } from 'ansi-colors';\n\nconst APUSupportLink = \"https://static.zdassets.com/web_widget/latest/liveChat.html?v=10#key=apu.zendesk.com&settings=JTdCJTIyd2ViV2lkZ2V0JTIyJTNBJTdCJTIyY2hhdCUyMiUzQSU3QiUyMnRpdGxlJTIyJTNBbnVsbCUyQyUyMmRlcGFydG1lbnRzJTIyJTNBJTdCJTdEJTJDJTIycHJlY2hhdEZvcm0lMjIlM0ElN0IlMjJkZXBhcnRtZW50TGFiZWwlMjIlM0FudWxsJTJDJTIyZ3JlZXRpbmclMjIlM0FudWxsJTdEJTJDJTIyb2ZmbGluZUZvcm0lMjIlM0ElN0IlMjJncmVldGluZyUyMiUzQW51bGwlN0QlMkMlMjJjb25jaWVyZ2UlMjIlM0ElN0IlMjJhdmF0YXJQYXRoJTIyJTNBbnVsbCUyQyUyMm5hbWUlMjIlM0FudWxsJTJDJTIydGl0bGUlMjIlM0FudWxsJTdEJTdEJTJDJTIyY29sb3IlMjIlM0ElN0IlMjJhcnRpY2xlTGlua3MlMjIlM0ElMjIlMjIlMkMlMjJidXR0b24lMjIlM0ElMjIlMjIlMkMlMjJoZWFkZXIlMjIlM0ElMjIlMjIlMkMlMjJsYXVuY2hlciUyMiUzQSUyMiUyMiUyQyUyMmxhdW5jaGVyVGV4dCUyMiUzQSUyMiUyMiUyQyUyMnJlc3VsdExpc3RzJTIyJTNBJTIyJTIyJTJDJTIydGhlbWUlMjIlM0FudWxsJTdEJTdEJTdE&&locale=en-US&title=Web%20Widget%20Live%20Chat\";\n\nexport class APUSupport extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            timeIdle: 5,\n            currentTime: 0,\n            showModal: false,\n            userLoggedIn: false,\n            isTimedOut: false,\n            // openDialog: false,\n        }\n        this.idleTimer = null\n        this.onAction = this._onAction.bind(this)\n        this.onActive = this._onActive.bind(this)\n        this.onIdle = this._onIdle.bind(this)\n        this.handleOpenDialog = this.handleOpenDialog.bind(this);\n        this.handleCloseDialog = this.handleCloseDialog.bind(this);\n    }\n\n    componentDidMount () {\n        \n    }\n\n    handleOpenDialog() {\n        this.setState({\n        openDialog: true\n    });\n    }\n\n    handleCloseDialog() {\n        this.setState({\n            openDialog: false\n        });\n        this.idleTimer.reset();\n    }\n\n    getCurrentTime = () => {\n        this.setState({\n            currentTime: this.idleTimer.getRemainingTime()\n        });\n        return this.state.currentTime\n    }\n\n    handleClose() {\n        this.setState({showModal: false})\n      }\n  \n      handleLogout() {\n        this.setState({showModal: false})\n        this.props.history.push('/')\n      }\n\n    render() {\n        return (\n            <div>\n                \n                <IdleTimer\n                    ref={ref => { this.idleTimer = ref }}\n                    element={document}\n                    onActive={this.onActive}\n                    onIdle={this.handleOpenDialog}\n                    onAction={this.onAction}\n                    timeout={1000 * 10 * this.state.timeIdle} />\n\n                <h1>APU Support Chat Page</h1>\n\n                <Iframe url={APUSupportLink}\n                    width=\"600px\"\n                    height=\"750px\"/>\n\n                <Link to=\"/\">\n                    <Button raised>Home</Button>\n                </Link>\n                <Dialog open={this.state.openDialog} onCancel={this.handleCloseDialog}>\n                    <DialogTitle>This Page Will Automaticaly Reset</DialogTitle>\n                    <DialogContent>\n                        <p>This page will restart in {this.getCurrentTime}</p>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button type='button' onClick={this.handleCloseDialog}>Continue?</Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        )\n    }\n\n    _onAction(e) {\n        console.log('user did something', e)\n        this.setState({isTimedOut: false})\n    }\n     \n    _onActive(e) {\n        console.log('user is active', e)\n        this.setState({isTimedOut: false})\n    }\n     \n    _onIdle(e) {\n        console.log('user is idle', e)\n        const isTimedOut = this.state.isTimedOut\n        if (isTimedOut) {\n            this.props.history.push('/home')\n        } else {\n          this.setState({showModal: true})\n          this.setState({ timeIdle: 1 })\n          this.idleTimer.reset();\n          this.setState({isTimedOut: true})\n        }\n    }\n}\n\nexport default APUSupport;"]},"metadata":{},"sourceType":"module"}